(()=>{"use strict";let e={0:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],10:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],20:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],30:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],40:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],50:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],60:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],70:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],80:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],90:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],100:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],110:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],120:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],130:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],140:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],150:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],160:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],170:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],180:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],190:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],200:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],210:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],220:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],230:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]};window.addEventListener("load",(function(){if(localStorage.getItem("results")){const t=localStorage.getItem("results");Object.assign(e,JSON.parse(t))}})),window.addEventListener("beforeunload",(function(){localStorage.getItem("results")||localStorage.setItem("results",JSON.stringify(e))}));const t=document.querySelector(".home"),s=document.querySelector(".artists"),n=document.querySelector(".pictures"),a=document.querySelector(".settings"),l=document.querySelectorAll(".page"),c=document.querySelectorAll(".questionContent");function i(){l.forEach((e=>{e.classList.add("hide")}))}function r(){i(),t.classList.remove("hide"),c.forEach((e=>{e.childNodes[1]&&e.childNodes[1].remove()}))}(()=>{const e=document.querySelectorAll(".homeLogo");t.addEventListener("click",(e=>{let t=e.target;t.closest(".artistsBtn")&&(i(),s.classList.remove("hide")),t.closest(".picturesBtn")&&(i(),n.classList.remove("hide")),t.closest(".settingsBtn")&&(i(),a.classList.remove("hide"))})),e.forEach((e=>{e.addEventListener("click",r)}))})();const o=document.querySelector(".artists"),d=document.querySelectorAll(".backBtnArt"),u=document.querySelector(".questionContentArt"),m=async()=>{const e=await fetch("images.json");return await e.json()};function g(){i(),o.classList.remove("hide"),u.childNodes.forEach(((e,t)=>{"questionContent__wrapper"===e.className&&u.childNodes[t].remove()}))}function p(e,t){const s=new Image,n=document.querySelector(".artistsPicture");s.src=`https://raw.githubusercontent.com/pnv13/image-data/master/full/${e+t+"full"}.jpg`,s.onload=()=>{n.style.backgroundImage=`url(${s.src})`}}const v=async(t,s=0,n=[])=>{let a=s+1,l=[""];if(10===s)return;n.length>0&&(l=n.map((e=>!0===e?"green":"red"))),document.querySelector(".questionArt").textContent="Кто автор этой картины?";let c=await async function(e){const t=await m();let s=[];for(let n=e;n<=e+9;n+=1){let e=[];for(e.push(t[n].author);e.length<4;){let s=t[Math.floor(Math.random()*t.length)];e.includes(s.author)||e.push(s.author)}e=e.map(((e,t)=>0===t?[e,"yes"]:[e,"no"]));let a=[...e].sort((()=>Math.random()-.5));s.push(a)}return s}(t);const i=`\n    <div class="questionContent__wrapper">\n      <ul class="pagination">\n        <li class="${l[0]}"></li>\n        <li class="${l[1]}"></li>\n        <li class="${l[2]}"></li>\n        <li class="${l[3]}"></li>\n        <li class="${l[4]}"></li>\n        <li class="${l[5]}"></li>\n        <li class="${l[6]}"></li>\n        <li class="${l[7]}"></li>\n        <li class="${l[8]}"></li>\n        <li class="${l[9]}"></li>\n      </ul>\n      <div class="artistsPicture"></div>\n      <ul class="artistsAnswers">\n        <li>${c[s][0][0]}</li>\n        <li>${c[s][1][0]}</li>\n        <li>${c[s][2][0]}</li>\n        <li>${c[s][3][0]}</li>\n      </ul>\n    </div>\n  `;u.insertAdjacentHTML("afterbegin",i),p(t,s),document.querySelectorAll(".artistsAnswers > li").forEach((l=>{l.addEventListener("click",(async l=>{let i=c[s].find((e=>e[0].toUpperCase()===l.target.innerText));u.childNodes[1].remove();let o=await(async(t,s,n)=>{const a=await m();let l;const c=`\n    <div class="popup">\n      <div class="overlay"></div>\n      <div class="popup__content">\n        <div class="answerImg"></div>\n        <div class="artistsPicture"></div>\n        <div class="pictureName">${a[n].name}</div>\n        <div class="pictureAuthor">${a[n].author}</div>\n        <div class="pictureYear">${a[n].year}</div>\n        <div class="okBtn">Ok</div>\n      </div>\n    </div>\n  `;u.insertAdjacentHTML("beforeend",c);const i=document.querySelector(".answerImg");p(s,n);const o=new Audio("./assets/sounds/yes.mp3"),d=new Audio("./assets/sounds/no.mp3"),v=new Audio("./assets/sounds/end.mp3");return"yes"===t?(i.style.backgroundImage="url(./assets/img/true.png)",e[s][n]=!0,l=!0,o.play()):(i.style.backgroundImage="url(./assets/img/false.png)",e[s][n]=!1,l=!1,d.play()),document.querySelector(".okBtn").addEventListener("click",(()=>{if(u.childNodes.forEach(((e,t)=>{"popup"===e.className&&u.childNodes[t].remove()})),9===n){let t,n;v.play(),localStorage.setItem("results",JSON.stringify(e)),localStorage.getItem("results")?(t=localStorage.getItem("results"),n=JSON.parse(t)):n=e;const a=`\n        <div class="popup">\n          <div class="overlay"></div>\n          <div class="popup__content">\n            <div>Congratulations!</div>\n            <div>${n[s].filter((e=>!0===e)).length} / 10</div>\n            <div class="finish-cup"></div>\n            <div class="finish-btns">\n              <div class="backHome btn">home</div>\n              <div class="nextQuiz btn">next</div>\n            </div>\n          </div>\n        </div>\n      `;u.insertAdjacentHTML("beforeend",a);const l=document.querySelector(".finish-cup"),c=document.querySelector(".nextQuiz"),i=document.querySelector(".backHome");l.style.backgroundImage="url(./assets/img/finish-cup.png)",c.addEventListener("click",(()=>{g(),u.childNodes.forEach(((e,t)=>{"popup"===e.className&&u.childNodes[t].remove()}))})),i.addEventListener("click",(()=>{r(),u.childNodes.forEach(((e,t)=>{"popup"===e.className&&u.childNodes[t].remove()}))}))}})),l})(i[1],t,s);n.push(o),v(t,a,n)}))}))};function h(e,t,s){const n=new Image,a=e.querySelector(".category__img"),l=e.querySelector(".category__score");n.src=`https://raw.githubusercontent.com/pnv13/image-data/master/img/${t}.jpg`,n.onload=()=>{a.style.backgroundImage=`url(${n.src})`,s>0?(l.classList.remove("hide"),a.style.filter="none"):(l.classList.add("hide"),a.style.filter="grayscale(100%)")}}(()=>{const t=document.querySelectorAll(".categories-artists-item"),s=["Portrait","Landscape","Still Life","Graphic","Antique","Avant-Garde","Renaissance","Surrealism","Kitsch","Minimalism","Avangard","Industrial"];t.forEach(((t,n)=>{const a=10*n,[l,c]=((t,s,n)=>{let a,l;localStorage.getItem("results")?(a=localStorage.getItem("results"),l=JSON.parse(a)):l=e;let c=l[n].filter((e=>!0===e)).length;return[`\n      <div class="category__header">\n        <span>${t[s]}</span>\n        <div class="category__results">\n          <span class="current-result">${c}</span>\n          <span>|</span>\n          <span>10</span>\n        </div>\n      </div>\n      <div class="category__img"></div>\n      <div class="category__score"></div>\n    `,c]})(s,n,a);t.insertAdjacentHTML("afterbegin",l),h(t,a,c),t.addEventListener("click",(async t=>{t.target.closest(".category__score")?async function(t){const s=document.querySelector(".scoreArt"),n=document.querySelectorAll(".scoreListArt > li"),a=await m();i(),s.classList.remove("hide"),n.forEach(((s,n)=>{const l=t+n,c=`\n      <ul class="scoreImgInfo hide">\n        <li>${a[l].name}</li>\n        <li>${a[l].author}</li>\n        <li>${a[l].year}</li>\n      </ul>\n    `;s.insertAdjacentHTML("afterbegin",c),function(t,s,n){let a,l;localStorage.getItem("results")?(a=localStorage.getItem("results"),l=JSON.parse(a)):l=e;const c=n+s,i=t,r=new Image;r.src=`https://raw.githubusercontent.com/pnv13/image-data/master/img/${c}.jpg`,r.onload=()=>{i.style.backgroundImage=`url(${r.src})`,l[n][s]?i.style.filter="none":i.style.filter="grayscale(100%)"}}(s,n,t),s.addEventListener("click",(e=>{e.target.childNodes[1].classList.toggle("hide")}))}))}(a):(await(()=>{const e=document.querySelector(".questionsArt");i(),e.classList.remove("hide")})(),await v(a))}))})),function s(){t.forEach(((t,s)=>{const n=10*s,a=t.querySelector(".current-result");let l,c;localStorage.getItem("results")?(l=localStorage.getItem("results"),c=JSON.parse(l)):c=e;let i=c[n].filter((e=>!0===e)).length;a.innerHTML=i,h(t,n,i)})),setTimeout(s,1e3)}()})(),d.forEach((e=>{e.addEventListener("click",g)}));const y=document.querySelector(".pictures"),f=document.querySelectorAll(".backBtnPic"),S=document.querySelector(".questionContentPic"),q=async()=>{const e=await fetch("images.json");return await e.json()};function $(){i(),y.classList.remove("hide"),S.childNodes.forEach(((e,t)=>{"questionContent__wrapper"===e.className&&S.childNodes[t].remove()}))}const L=async(t,s=0,n=[])=>{let a=s+1,l=[""];if(10===s)return;n.length>0&&(l=n.map((e=>!0===e?"green":"red")));const c=await q();document.querySelector(".questionPic").textContent=`Какую картину написал ${c[t+s].author}?`;let i=await async function(e){const t=await q();let s=[];for(let n=e;n<=e+9;n+=1){let e=[],a=[];for(a.push(t[n].imageNum),e.push(t[n].author);e.length<4;){let s=t[Math.floor(Math.random()*t.length)];e.includes(s.author)||(e.push(s.author),a.push(s.imageNum))}e=e.map(((e,t)=>0===t?[e,"yes",a[t]]:[e,"no",a[t]]));let l=[...e].sort((()=>Math.random()-.5));s.push(l)}return s}(t);const o=`\n    <div class="questionContent__wrapper">\n      <ul class="pagination">\n        <li class="${l[0]}"></li>\n        <li class="${l[1]}"></li>\n        <li class="${l[2]}"></li>\n        <li class="${l[3]}"></li>\n        <li class="${l[4]}"></li>\n        <li class="${l[5]}"></li>\n        <li class="${l[6]}"></li>\n        <li class="${l[7]}"></li>\n        <li class="${l[8]}"></li>\n        <li class="${l[9]}"></li>\n      </ul>\n      <ul class="pictures__quiz">\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n      </ul>\n    </div>\n  `;S.insertAdjacentHTML("afterbegin",o),document.querySelectorAll(".pictures__quiz > li").forEach(((l,c)=>{!function(e,t,s,n){const a=new Image,l=e;a.src=`https://raw.githubusercontent.com/pnv13/image-data/master/full/${n[s][t][2]+"full"}.jpg`,a.onload=()=>{l.style.backgroundImage=`url(${a.src})`}}(l,c,s,i),l.addEventListener("click",(async()=>{let l=i[s][c];S.childNodes[1].remove();let o=await(async(t,s,n)=>{const a=await q();let l,c=s+n;const i=`\n    <div class="popup">\n      <div class="overlay"></div>\n      <div class="popup__content">\n        <div class="answerImg"></div>\n        <div class="artistsPicture"></div>\n        <div class="pictureName">${a[c].name}</div>\n        <div class="pictureAuthor">${a[c].author}</div>\n        <div class="pictureYear">${a[c].year}</div>\n        <div class="okBtn">Ok</div>\n      </div>\n    </div>\n  `;S.insertAdjacentHTML("beforeend",i);const o=document.querySelector(".answerImg");!function(e,t){const s=new Image,n=document.querySelector(".artistsPicture");s.src=`https://raw.githubusercontent.com/pnv13/image-data/master/full/${e+t+"full"}.jpg`,s.onload=()=>{n.style.backgroundImage=`url(${s.src})`}}(s,n);const d=new Audio("./assets/sounds/yes.mp3"),u=new Audio("./assets/sounds/no.mp3"),m=new Audio("./assets/sounds/end.mp3");return"yes"===t?(o.style.backgroundImage="url(./assets/img/true.png)",e[s][n]=!0,l=!0,d.play()):(o.style.backgroundImage="url(./assets/img/false.png)",e[s][n]=!1,l=!1,u.play()),document.querySelector(".okBtn").addEventListener("click",(()=>{if(S.childNodes.forEach(((e,t)=>{"popup"===e.className&&S.childNodes[t].remove()})),9===n){let t,n;m.play(),localStorage.setItem("results",JSON.stringify(e)),localStorage.getItem("results")?(t=localStorage.getItem("results"),n=JSON.parse(t)):n=e;const a=`\n        <div class="popup">\n          <div class="overlay"></div>\n          <div class="popup__content">\n            <div>Congratulations!</div>\n            <div>${n[s].filter((e=>!0===e)).length} / 10</div>\n            <div class="finish-cup"></div>\n            <div class="finish-btns">\n              <div class="backHome btn">home</div>\n              <div class="nextQuiz btn">next</div>\n            </div>\n          </div>\n        </div>\n      `;S.insertAdjacentHTML("beforeend",a);const l=document.querySelector(".finish-cup"),c=document.querySelector(".nextQuiz"),i=document.querySelector(".backHome");l.style.backgroundImage="url(./assets/img/finish-cup.png)",c.addEventListener("click",(()=>{$(),S.childNodes.forEach(((e,t)=>{"popup"===e.className&&S.childNodes[t].remove()}))})),i.addEventListener("click",(()=>{r(),S.childNodes.forEach(((e,t)=>{"popup"===e.className&&S.childNodes[t].remove()}))}))}})),l})(l[1],t,s);n.push(o),L(t,a,n)}))}))};function w(e,t,s){const n=new Image,a=e.querySelector(".category__img"),l=e.querySelector(".category__score");n.src=`https://raw.githubusercontent.com/pnv13/image-data/master/img/${t}.jpg`,n.onload=()=>{a.style.backgroundImage=`url(${n.src})`,s>0?(l.classList.remove("hide"),a.style.filter="none"):(l.classList.add("hide"),a.style.filter="grayscale(100%)")}}(()=>{const t=document.querySelectorAll(".categories-pictures-item"),s=["Portrait","Landscape","Still Life","Graphic","Antique","Avant-Garde","Renaissance","Surrealism","Kitsch","Minimalism","Avangard","Industrial"];t.forEach(((t,n)=>{const a=10*(n+12),[l,c]=((t,s,n)=>{let a,l;localStorage.getItem("results")?(a=localStorage.getItem("results"),l=JSON.parse(a)):l=e;let c=l[n].filter((e=>!0===e)).length;return[`\n      <div class="category__header">\n        <span>${t[s]}</span>\n        <div class="category__results">\n          <span class="current-result">${c}</span>\n          <span>|</span>\n          <span>10</span>\n        </div>\n      </div>\n      <div class="category__img"></div>\n      <div class="category__score hide"></div>\n    `,c]})(s,n,a);t.insertAdjacentHTML("afterbegin",l),w(t,a,c),t.addEventListener("click",(async t=>{t.target.closest(".category__score")?async function(t){const s=document.querySelector(".scorePic"),n=document.querySelectorAll(".scoreListPic > li"),a=await q();i(),s.classList.remove("hide"),n.forEach(((s,n)=>{const l=t+n,c=`\n      <ul class="scoreImgInfo hide">\n        <li>${a[l].name}</li>\n        <li>${a[l].author}</li>\n        <li>${a[l].year}</li>\n      </ul>\n    `;s.insertAdjacentHTML("afterbegin",c),function(t,s,n){let a,l;localStorage.getItem("results")?(a=localStorage.getItem("results"),l=JSON.parse(a)):l=e;const c=n+s,i=t,r=new Image;r.src=`https://raw.githubusercontent.com/pnv13/image-data/master/img/${c}.jpg`,r.onload=()=>{i.style.backgroundImage=`url(${r.src})`,l[n][s]?i.style.filter="none":i.style.filter="grayscale(100%)"}}(s,n,t),s.addEventListener("click",(e=>{e.target.childNodes[1].classList.toggle("hide")}))}))}(a):(await(()=>{const e=document.querySelector(".questionsPic");i(),e.classList.remove("hide")})(),await L(a))}))})),function s(){t.forEach(((t,s)=>{const n=10*(s+12),a=t.querySelector(".current-result");let l,c;localStorage.getItem("results")?(l=localStorage.getItem("results"),c=JSON.parse(l)):c=e;let i=c[n].filter((e=>!0===e)).length;a.innerHTML=i,w(t,n,i)})),setTimeout(s,1e3)}()})(),f.forEach((e=>{e.addEventListener("click",$)}))})();